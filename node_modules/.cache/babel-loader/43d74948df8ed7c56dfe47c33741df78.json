{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError('Cannot call a class as a function');\n  }\n}\n\nvar _request = require('request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _utilsJs = require('./utils.js');\n\nvar Swapi = function () {\n  function Swapi(stub) {\n    _classCallCheck(this, Swapi);\n\n    this.baseUrl = 'http://swapi.co/api/';\n    this.request = stub || _request2['default'];\n  }\n\n  _createClass(Swapi, [{\n    key: 'describe',\n    value: function describe() {\n      return this._end(this.baseUrl);\n    }\n  }, {\n    key: 'get',\n    value: function get(resource, id) {\n      var _this = this;\n\n      if (Array.isArray(id)) {\n        return _bluebird2['default'].all(id.map(function (elem) {\n          return _this.get(resource, elem);\n        }));\n      }\n\n      if (/^http/.test(resource)) {\n        return this._end(resource);\n      }\n\n      if (id === undefined) {\n        return this._buildQuery(resource);\n      }\n\n      return this._buildQuery(resource, id).bind(this).then(this._end);\n    }\n  }, {\n    key: '_buildQuery',\n    value: function _buildQuery(resource, id) {\n      if (arguments.length < 2) {\n        return _bluebird2['default'].reject(new Error('id argument is required'));\n      }\n\n      var query = (0, _utilsJs.urlJoin)(this.baseUrl, resource, id);\n      return _bluebird2['default'].resolve(query);\n    }\n  }, {\n    key: 'schema',\n    value: function schema(resource) {\n      return this._end((0, _utilsJs.urlJoin)(this.baseUrl, resource, 'schema'));\n    }\n  }, {\n    key: '_end',\n    value: function _end(query) {\n      var _this2 = this;\n\n      return new _bluebird2['default'](function (resolve, reject) {\n        _this2.request.get(query, function (err, res, body) {\n          if (res.statusCode !== 200) {\n            var e = new Error(res.statusCode);\n            return reject(e);\n          }\n\n          if (err) {\n            return reject(err);\n          }\n\n          return resolve(JSON.parse(body));\n        });\n      });\n    }\n  }], [{\n    key: '_listResources',\n    value: function _listResources() {\n      return ['people', 'films', 'starships', 'vehicles', 'species', 'planets'];\n    }\n  }]);\n\n  return Swapi;\n}();\n\n(0, _utilsJs.extend)(Swapi.prototype, Swapi._listResources().reduce(function (obj, item) {\n  obj[item] = function (id) {\n    return this.get(item, id);\n  };\n\n  return obj;\n}, {}));\nexports['default'] = Swapi;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/first-app/node_modules/star-wars-api/dist/index.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_interopRequireDefault","obj","__esModule","_classCallCheck","instance","TypeError","_request","require","_request2","_bluebird","_bluebird2","_utilsJs","Swapi","stub","baseUrl","request","describe","_end","get","resource","id","_this","Array","isArray","all","map","elem","test","undefined","_buildQuery","bind","then","arguments","reject","Error","query","urlJoin","resolve","schema","_this2","err","res","body","statusCode","e","JSON","parse","_listResources","extend","reduce","item","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _request = require('request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _utilsJs = require('./utils.js');\n\nvar Swapi = (function () {\n    function Swapi(stub) {\n        _classCallCheck(this, Swapi);\n\n        this.baseUrl = 'http://swapi.co/api/';\n        this.request = stub || _request2['default'];\n    }\n\n    _createClass(Swapi, [{\n        key: 'describe',\n        value: function describe() {\n            return this._end(this.baseUrl);\n        }\n    }, {\n        key: 'get',\n        value: function get(resource, id) {\n            var _this = this;\n\n            if (Array.isArray(id)) {\n                return _bluebird2['default'].all(id.map(function (elem) {\n                    return _this.get(resource, elem);\n                }));\n            }\n            if (/^http/.test(resource)) {\n                return this._end(resource);\n            }\n            if (id === undefined) {\n                return this._buildQuery(resource);\n            }\n\n            return this._buildQuery(resource, id).bind(this).then(this._end);\n        }\n    }, {\n        key: '_buildQuery',\n        value: function _buildQuery(resource, id) {\n            if (arguments.length < 2) {\n                return _bluebird2['default'].reject(new Error('id argument is required'));\n            }\n            var query = (0, _utilsJs.urlJoin)(this.baseUrl, resource, id);\n            return _bluebird2['default'].resolve(query);\n        }\n    }, {\n        key: 'schema',\n        value: function schema(resource) {\n            return this._end((0, _utilsJs.urlJoin)(this.baseUrl, resource, 'schema'));\n        }\n    }, {\n        key: '_end',\n        value: function _end(query) {\n            var _this2 = this;\n\n            return new _bluebird2['default'](function (resolve, reject) {\n                _this2.request.get(query, function (err, res, body) {\n                    if (res.statusCode !== 200) {\n                        var e = new Error(res.statusCode);\n                        return reject(e);\n                    }\n\n                    if (err) {\n                        return reject(err);\n                    }\n\n                    return resolve(JSON.parse(body));\n                });\n            });\n        }\n    }], [{\n        key: '_listResources',\n        value: function _listResources() {\n            return ['people', 'films', 'starships', 'vehicles', 'species', 'planets'];\n        }\n    }]);\n\n    return Swapi;\n})();\n\n(0, _utilsJs.extend)(Swapi.prototype, Swapi._listResources().reduce(function (obj, item) {\n    obj[item] = function (id) {\n        return this.get(item, id);\n    };\n    return obj;\n}, {}));\n\nexports['default'] = Swapi;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}